#!/bin/bash -eu

# formatting
isort .
black .

# misc "best practices" checks
flake8 src tests
bandit -c pyproject.toml -r -q .
safety check | grep vulnerabilities
mypy -p src
mypy -p tests

# tests
pytest --cov-fail-under=100 --random-order -q --no-summary
mutmut run --simple-output | tail -1
